(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9244392"],{"600b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",height:"calc(100vh - 100px)",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"序号","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),n("el-table-column",{attrs:{label:"姓名",sortable:"",prop:"name",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),n("el-table-column",{attrs:{label:"性别","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.gender))])]}}])}),n("el-table-column",{attrs:{label:"手机号","min-width":"170",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.phone)+" ")]}}])}),n("el-table-column",{attrs:{"class-name":"status-col",sortable:"",prop:"state",label:"仓库运行情况","min-width":"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:"异常"==t.row.state?"warning":"success"}},[e._v(e._s(t.row.state)+" ")])]}}])}),n("el-table-column",{attrs:{align:"center",sortable:"",prop:"time",label:"打卡时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-time"}),n("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(t.row.time))])]}}])}),n("el-table-column",{attrs:{label:"情况描述","min-width":"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticStyle:{"max-height":"90px","overflow-y":"auto"}},[e._v(" "+e._s(t.row.des)+" ")])]}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"danger",size:"small",plain:""},nativeOn:{click:function(n){return n.preventDefault(),e.deleteRow(t.row.id,e.list)}}},[e._v(" 删除 ")])]}}])})],1)],1)},a=[],i=n("c7eb"),l=n("1da1"),o=(n("7db0"),n("d3b7"),n("c740"),n("a434"),n("e5bf")),s={filters:{statusFilter:function(e){var t={published:"success",draft:"gray",deleted:"danger"};return t[e]}},data:function(){return{list:null,listLoading:!0}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,Object(o["b"])().then((function(t){e.list=t.data.items,e.listLoading=!1}))},deleteRow:function(e,t){var n=this;return Object(l["a"])(Object(i["a"])().mark((function r(){var a,l;return Object(i["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n.listLoading=!0,console.log(e),a=t.find((function(t){return t.id===e})).id,console.log(a),l=t.findIndex((function(e){return e.id===a})),-1===l){r.next=18;break}return t.splice(l,1),r.prev=7,r.next=10,Object(o["a"])(a);case 10:n.$message({message:"删除成功",type:"success"}),r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](7),n.$message({message:"错误：前端数据被删除，但后端数据库数据并未更新！",type:"warning"});case 16:r.next=19;break;case 18:console.error("未找到ID为 ".concat(e," 的行"));case 19:n.listLoading=!1;case 20:case"end":return r.stop()}}),r,null,[[7,13]])})))()}}},c=s,u=n("2877"),d=Object(u["a"])(c,r,a,!1,null,null,null);t["default"]=d.exports},"7db0":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").find,i=n("44d2"),l=n("ae40"),o="find",s=!0,c=l(o);o in[]&&Array(1)[o]((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!c},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},a434:function(e,t,n){"use strict";var r=n("23e7"),a=n("23cb"),i=n("a691"),l=n("50c4"),o=n("7b0b"),s=n("65f0"),c=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),b=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,h=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!b},{splice:function(e,t){var n,r,u,d,f,b,w=o(this),v=l(w.length),_=a(e,v),y=arguments.length;if(0===y?n=r=0:1===y?(n=0,r=v-_):(n=y-2,r=g(p(i(t),0),v-_)),v+n-r>h)throw TypeError(m);for(u=s(w,r),d=0;d<r;d++)f=_+d,f in w&&c(u,d,w[f]);if(u.length=r,n<r){for(d=_;d<v-r;d++)f=d+r,b=d+n,f in w?w[b]=w[f]:delete w[b];for(d=v;d>v-r+n;d--)delete w[d-1]}else if(n>r)for(d=v-r;d>_;d--)f=d+r-1,b=d+n-1,f in w?w[b]=w[f]:delete w[b];for(d=0;d<n;d++)w[d+_]=arguments[d+2];return w.length=v-r+n,u}})},c740:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").findIndex,i=n("44d2"),l=n("ae40"),o="findIndex",s=!0,c=l(o);o in[]&&Array(1)[o]((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!c},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},e5bf:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l}));var r=n("b775");function a(){return Object(r["a"])({url:"/record/list",method:"get"})}function i(e){return Object(r["a"])({url:"/record/insert",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/record/delete",method:"delete",params:{id:e}})}}}]);