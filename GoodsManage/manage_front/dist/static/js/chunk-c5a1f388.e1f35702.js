(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5a1f388"],{"25f0":function(e,r,t){"use strict";var o=t("6eeb"),n=t("825a"),a=t("d039"),i=t("ad6d"),s="toString",l=RegExp.prototype,c=l[s],u=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f=c.name!=s;(u||f)&&o(RegExp.prototype,s,(function(){var e=n(this),r=String(e.source),t=e.flags,o=String(void 0===t&&e instanceof RegExp&&!("flags"in l)?i.call(e):t);return"/"+r+"/"+o}),{unsafe:!0})},7156:function(e,r,t){var o=t("861d"),n=t("d2bb");e.exports=function(e,r,t){var a,i;return n&&"function"==typeof(a=r.constructor)&&a!==t&&o(i=a.prototype)&&i!==t.prototype&&n(e,i),e}},"9b7f":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"app-container"},[t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"120px"}},[t("el-form-item",{attrs:{prop:"name",label:"姓名"}},[t("el-input",{model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),t("el-form-item",{attrs:{prop:"gender",label:"性别"}},[t("el-select",{attrs:{placeholder:"请选择您的性别"},model:{value:e.form.gender,callback:function(r){e.$set(e.form,"gender",r)},expression:"form.gender"}},[t("el-option",{attrs:{label:"男",value:"男"}}),t("el-option",{attrs:{label:"女",value:"女"}})],1)],1),t("el-form-item",{attrs:{prop:"phone",label:"手机号"}},[t("el-input",{model:{value:e.form.phone,callback:function(r){e.$set(e.form,"phone",r)},expression:"form.phone"}})],1),t("el-row",[t("el-col",{attrs:{sm:8,xs:24}},[t("el-form-item",{attrs:{prop:"time",label:"时间"}},[t("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.time,callback:function(r){e.$set(e.form,"time",r)},expression:"form.time"}})],1)],1)],1),t("el-form-item",{attrs:{label:"物资情况",prop:"isNormal"}},[t("el-radio",{attrs:{label:!0},model:{value:e.form.isNormal,callback:function(r){e.$set(e.form,"isNormal",r)},expression:"form.isNormal"}},[e._v("正常")]),t("el-radio",{attrs:{label:!1},model:{value:e.form.isNormal,callback:function(r){e.$set(e.form,"isNormal",r)},expression:"form.isNormal"}},[e._v("异常")])],1),e.form.isNormal?e._e():t("el-form-item",{attrs:{label:"情况描述",prop:"des"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.form.des,callback:function(r){e.$set(e.form,"des",r)},expression:"form.des"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交记录")]),t("el-button",{on:{click:e.onCancel}},[e._v("取消上传")])],1)],1)],1)},n=[],a=(t("ac1f"),t("00b4"),t("a9e3"),t("d3b7"),t("25f0"),t("e5bf")),i={data:function(){var e=function(e,r,t){if(!r)return new Error("请输入您的姓名");var o=/^([\u4e00-\u9fa5]{2,4}|[a-zA-Z\.\s]{1,20})$/;o.test(r)?t():t(new Error("请输入2-4个中文字符姓名或英文姓名"))},r=function(e,r,t){if(!r)return new Error("请输入电话号码");var o=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/,n=o.test(r);r=Number(r),"number"!==typeof r||isNaN(r)?t(new Error("请输入电话号码")):(r=r.toString(),r.length<0||r.length>12||!n?t(new Error("手机号码格式如:137xxxx1234")):t())},t=function(e,r,t){if(!r)return new Error("请输入情况描述");r=r.toString(),r.length>=200?t(new Error("字数不能超过200")):t()};return{form:{name:this.$store.state.user.username,gender:"",phone:"",state:"",time:"",desc:"",isNormal:""},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var r=new Date;r.setTime(r.getTime()-864e5),e.$emit("pick",r)}},{text:"一周前",onClick:function(e){var r=new Date;r.setTime(r.getTime()-6048e5),e.$emit("pick",r)}}]},rules:{name:[{required:!0,message:"请输入您的名字",trigger:"blur"},{validator:e,trigger:"blur"}],gender:[{required:!0,message:"请选择您的性别",trigger:"change"}],phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:r,trigger:"blur"}],time:[{required:!0,message:"请选择时间",trigger:"change"}],isNormal:[{required:!0,message:"请选择物资情况",trigger:"blur"}],des:[{required:!0,message:"请输入异常情况",trigger:blur},{validator:t,trigger:"blur"}]}}},watch:{"form.isNormal":function(e){this.form.state=e?"正常":"异常"}},methods:{onSubmit:function(){var e=this;this.$refs.form.validate((function(r){if(!r)return console.log("error submit!!"),e.$message({message:"添加失败！",type:"error"}),!1;console.log("this form will be transported--\x3e"),console.log(e.form),Object(a["c"])(e.form).then((function(r){e.$message({message:"添加成功",type:"success"}),e.$router.push({path:"/query/record"}),e.$refs.form.resetFields()}))}))},onCancel:function(){this.$message({message:"已取消!",type:"warning"}),this.$refs.form.resetFields()}}},s=i,l=t("2877"),c=Object(l["a"])(s,o,n,!1,null,null,null);r["default"]=c.exports},a9e3:function(e,r,t){"use strict";var o=t("83ab"),n=t("da84"),a=t("94ca"),i=t("6eeb"),s=t("5135"),l=t("c6b6"),c=t("7156"),u=t("c04e"),f=t("d039"),m=t("7c73"),p=t("241c").f,d=t("06cf").f,g=t("9bf2").f,b=t("58a8").trim,h="Number",v=n[h],N=v.prototype,k=l(m(N))==h,w=function(e){var r,t,o,n,a,i,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=b(c),r=c.charCodeAt(0),43===r||45===r){if(t=c.charCodeAt(2),88===t||120===t)return NaN}else if(48===r){switch(c.charCodeAt(1)){case 66:case 98:o=2,n=49;break;case 79:case 111:o=8,n=55;break;default:return+c}for(a=c.slice(2),i=a.length,s=0;s<i;s++)if(l=a.charCodeAt(s),l<48||l>n)return NaN;return parseInt(a,o)}return+c};if(a(h,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,E=function(e){var r=arguments.length<1?0:e,t=this;return t instanceof E&&(k?f((function(){N.valueOf.call(t)})):l(t)!=h)?c(new v(w(r)),t,E):w(r)},y=o?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),$=0;y.length>$;$++)s(v,x=y[$])&&!s(E,x)&&g(E,x,d(v,x));E.prototype=N,N.constructor=E,i(n,h,E)}},e5bf:function(e,r,t){"use strict";t.d(r,"b",(function(){return n})),t.d(r,"c",(function(){return a})),t.d(r,"a",(function(){return i}));var o=t("b775");function n(){return Object(o["a"])({url:"/record/list",method:"get"})}function a(e){return Object(o["a"])({url:"/record/insert",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/record/delete",method:"delete",params:{id:e}})}}}]);